{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./usuarios.service\";\nimport * as i2 from \"@angular/router\";\nconst AUTH_KEY = 'crud_auth_user';\nexport let AuthService = /*#__PURE__*/(() => {\n  class AuthService {\n    constructor(usuariosService, router) {\n      this.usuariosService = usuariosService;\n      this.router = router;\n    }\n    isAuthenticated() {\n      return Boolean(localStorage.getItem(AUTH_KEY));\n    }\n    getAuthenticatedUsername() {\n      return localStorage.getItem(AUTH_KEY);\n    }\n    login(username, password) {\n      const user = this.usuariosService.findByCredentials(username.trim(), password.trim());\n      if (!user) {\n        return false;\n      }\n      localStorage.setItem(AUTH_KEY, user.username);\n      return true;\n    }\n    logout() {\n      localStorage.removeItem(AUTH_KEY);\n      this.router.navigate(['/login']);\n    }\n    static {\n      this.ɵfac = function AuthService_Factory(t) {\n        return new (t || AuthService)(i0.ɵɵinject(i1.UsuariosService), i0.ɵɵinject(i2.Router));\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: AuthService,\n        factory: AuthService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return AuthService;\n})();","map":{"version":3,"names":["AUTH_KEY","AuthService","constructor","usuariosService","router","isAuthenticated","Boolean","localStorage","getItem","getAuthenticatedUsername","login","username","password","user","findByCredentials","trim","setItem","logout","removeItem","navigate","i0","ɵɵinject","i1","UsuariosService","i2","Router","factory","ɵfac","providedIn"],"sources":["C:\\Users\\marci\\OneDrive\\Documentos\\GitHub\\crud\\src\\app\\services\\auth.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { UsuariosService } from './usuarios.service';\r\n\r\nconst AUTH_KEY = 'crud_auth_user';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthService {\r\n  constructor(\r\n    private readonly usuariosService: UsuariosService,\r\n    private readonly router: Router\r\n  ) {}\r\n\r\n  isAuthenticated(): boolean {\r\n    return Boolean(localStorage.getItem(AUTH_KEY));\r\n  }\r\n\r\n  getAuthenticatedUsername(): string | null {\r\n    return localStorage.getItem(AUTH_KEY);\r\n  }\r\n\r\n  login(username: string, password: string): boolean {\r\n    const user = this.usuariosService.findByCredentials(username.trim(), password.trim());\r\n    if (!user) {\r\n      return false;\r\n    }\r\n    localStorage.setItem(AUTH_KEY, user.username);\r\n    return true;\r\n  }\r\n\r\n  logout(): void {\r\n    localStorage.removeItem(AUTH_KEY);\r\n    this.router.navigate(['/login']);\r\n  }\r\n}\r\n"],"mappings":";;;AAIA,MAAMA,QAAQ,GAAG,gBAAgB;AAGjC,WAAaC,WAAW;EAAlB,MAAOA,WAAW;IACtBC,YACmBC,eAAgC,EAChCC,MAAc;MADd,KAAAD,eAAe,GAAfA,eAAe;MACf,KAAAC,MAAM,GAANA,MAAM;IACtB;IAEHC,eAAeA,CAAA;MACb,OAAOC,OAAO,CAACC,YAAY,CAACC,OAAO,CAACR,QAAQ,CAAC,CAAC;IAChD;IAEAS,wBAAwBA,CAAA;MACtB,OAAOF,YAAY,CAACC,OAAO,CAACR,QAAQ,CAAC;IACvC;IAEAU,KAAKA,CAACC,QAAgB,EAAEC,QAAgB;MACtC,MAAMC,IAAI,GAAG,IAAI,CAACV,eAAe,CAACW,iBAAiB,CAACH,QAAQ,CAACI,IAAI,EAAE,EAAEH,QAAQ,CAACG,IAAI,EAAE,CAAC;MACrF,IAAI,CAACF,IAAI,EAAE;QACT,OAAO,KAAK;MACd;MACAN,YAAY,CAACS,OAAO,CAAChB,QAAQ,EAAEa,IAAI,CAACF,QAAQ,CAAC;MAC7C,OAAO,IAAI;IACb;IAEAM,MAAMA,CAAA;MACJV,YAAY,CAACW,UAAU,CAAClB,QAAQ,CAAC;MACjC,IAAI,CAACI,MAAM,CAACe,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;IAClC;;;yBA1BWlB,WAAW,EAAAmB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,eAAA,GAAAH,EAAA,CAAAC,QAAA,CAAAG,EAAA,CAAAC,MAAA;MAAA;IAAA;;;eAAXxB,WAAW;QAAAyB,OAAA,EAAXzB,WAAW,CAAA0B,IAAA;QAAAC,UAAA,EADE;MAAM;IAAA;;SACnB3B,WAAW;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}